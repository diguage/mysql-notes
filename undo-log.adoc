[#undo]
= undo 日志，后悔药

在更新操作时，会把旧版本写入到 undo 中，最新的记录有一个 `roll_pointer` 指针执行旧版本，各个版本的记录依次用指针链接，组成一个版本链。

查询时生成 ReadView，根据其中的事务 ID 去查找 undo 版本链中的数据，这就是 MVCC 的原理。

删除操作，是先打标；事务提交后，会有专门的清理线程来把记录删除掉。

